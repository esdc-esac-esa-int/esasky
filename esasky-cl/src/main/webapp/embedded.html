
<html>

<head>
	<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>

<body>

<div style='float left;'>
<iframe name='myiframe' id='myiframe' width='1024px' height='768px' src="http://skyint.esac.esa.int"></iframe>
</div>

<script>



function gotoRADec(){
	document.getElementById('myiframe').contentWindow.postMessage({event: 'goToRADec', ra: $("#ra").val(), dec: $("#dec").val()}, 'http://sky.esa.int');
}

function setFoV(){
	document.getElementById('myiframe').contentWindow.postMessage({event: 'setFoV', fovDeg: $("#fov").val()}, 'http://sky.esa.int');
}


function goToTargetName(){
	document.getElementById('myiframe').contentWindow.postMessage({event: 'goToTargetName', targetname: $("#targetname").val()}, 'http://sky.esa.int');
}

function overlayCatalogue(){
	var t = JSON.parse($("#catalogue").val());
	document.getElementById('myiframe').contentWindow.postMessage({event:'overlayCatalogue', content: t}, 'http://sky.esa.int');
	document.getElementById('myiframe').contentWindow.postMessage({event: 'goToRADec', ra: t.overlaySet.skyObjectList[0].ra, dec: t.overlaySet.skyObjectList[0].dec}, 'http://sky.esa.int');
}

function overlayCatalogueWithDetails(){
	var t = JSON.parse($("#catalogueWithDetails").val());
	document.getElementById('myiframe').contentWindow.postMessage({event:'overlayCatalogueWithDetails', content: t}, 'http://sky.esa.int');
}
</script>

<div style='border: solid 1px; width: 640px; padding: 10px;i float: left;'>
	Values can be either in degrees or in sexagesimal format (hh mm ss +/-dd mm ss)
	<br/>
	RA: <input id="ra" type="text" />
	<br/>
	Dec: <input id="dec" type="text" />
	<br/>
	<button type="button" onclick="gotoRADec();">Go to RA and Dec</button>
</div>
<div style='border: solid 1px; width: 640px; padding: 10px;'>
	Target name: <input id="targetname" type="text" />
	<br/>
	<button type="button" onclick="goToTargetName();">Go to target by name</button>
</div>
<div style='border: solid 1px; width: 640px; padding: 10px;'>
	FoV in decimal degrees
	FoV: <input id="fov" type="text" />
	<br/>
	<button type="button" onclick="setFoV();">Change filed of view</button>
</div>


<div style='border: solid 1px; width: 640px; padding: 10px;'>
	Simple JSON catalogue representation:<br/> 
	<textarea id="catalogue" rows="20" cols="50">
{
   "overlaySet":{
      "type":"SourceListOverlay",
      "overlayName":"bla bla bla",
      "cooframe":"equatorial",
      "color":"#ee2345",
      "lineWidth":10,
      "skyObjectList":[
         {
            "name":"A",
            "ra":"105.69239256",
            "dec":"-8.45235969"
         },
         {
            "name":"B",
            "ra":"105.70779763",
            "dec":"-8.31350997"
         },
         {
            "name":"C",
            "ra":"105.74242906",
            "dec":"-8.34776709"
         }
      ]
   }
}
	</textarea>
	<br/>
	<button type="button" onclick="overlayCatalogue();">Overlay catalogue</button>
</div>


<div style='border: solid 1px; width: 640px; padding: 10px;'>
	JSON catalogue representation with details associated (it opens up ESASky data panel with the details written into the data section of each source):<br/> 
	<textarea id="catalogueWithDetails" rows="20" cols="50">
{
   "overlaySet":{
      "type":"SourceListOverlay",
      "overlayName":"bla bla bla",
      "cooframe":"equatorial",
      "color":"#ee2345",
      "lineWidth":10,
      "skyObjectList":[
         {
            "name":"A",
            "id":1,
            "ra":"105.69239256",
            "dec":"-8.45235969",
            "data":[
               {
                  "name":"flux1",
                  "value":"11.5",
                  "type":"STRING"
               },
               {
                  "name":"flux2",
                  "value":"2.7",
                  "type":"STRING"
               }
            ]
         },{
            "name":"B",
            "id":2,
            "ra":"105.70779763",
            "dec":"-8.31350997",
            "data":[
               {
                  "name":"flux1",
                  "value":"12.5",
                  "type":"STRING"
               },
               {
                  "name":"flux2",
                  "value":"1.7",
                  "type":"STRING"
               }
            ]
         },{
            "name":"C",
            "id":3,
            "ra":"105.74242906",
            "dec":"-8.34776709",
            "data":[
               {
                  "name":"flux1",
                  "value":"10.5",
                  "type":"STRING"
               },
               {
                  "name":"flux2",
                  "value":"3.7",
                  "type":"STRING"
               }
            ]
         }

      ]
   }
}
	</textarea>
	<br/>
	<button type="button" onclick="overlayCatalogueWithDetails();">Overlay catalogue</button>
</div>
</body>
</html>


